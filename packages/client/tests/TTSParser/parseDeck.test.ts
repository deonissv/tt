import { MUNCHKIN_DECK_OBJ } from '@assets/munchkin';
import TTSParser from '@client/src/TTSParser/TTSParser';
import { degToRad } from '@client/src/utils';
import type { DeckState } from '@shared/dto/simulation';
import type { ObjectState } from '@shared/tts-model/ObjectState';
import { describe, expect, it } from 'vitest';

describe('TTSParser - parseDeck', () => {
  it('should correctly parse a deck object with all properties', () => {
    const expected: DeckState = {
      guid: '482ca1',
      name: 'Deck',
      transformation: {
        position: [6.120835, 2.00653052, -4.454175],
        rotation: [8.95195e-9, 179.8918, 180.0].map(degToRad),
        scale: [1, 1, 1],
      },
      cards: {
        '12:0': 'a78e46',
        '12:1': 'a78e46',
        '12:10': 'a78e46',
        '12:11': 'a78e46',
        '12:12': 'a78e46',
        '12:13': 'a78e46',
        '12:14': 'a78e46',
        '12:15': 'f9bd56',
        '12:16': 'a78e46',
        '12:17': 'a78e46',
        '12:18': 'a78e46',
        '12:19': 'a78e46',
        '12:2': 'a78e46',
        '12:20': 'a78e46',
        '12:21': 'a78e46',
        '12:22': '74c72e',
        '12:23': 'a78e46',
        '12:24': 'a78e46',
        '12:25': 'a78e46',
        '12:26': 'a78e46',
        '12:27': 'a78e46',
        '12:28': 'a78e46',
        '12:29': 'a78e46',
        '12:3': '43239b',
        '12:30': 'a78e46',
        '12:31': 'a78e46',
        '12:32': 'a78e46',
        '12:33': 'a78e46',
        '12:34': '8cfd7b',
        '12:4': 'a78e46',
        '12:5': 'a78e46',
        '12:6': 'a78e46',
        '12:7': 'a78e46',
        '12:8': 'a78e46',
        '12:9': 'a78e46',
        '13:0': 'a16267',
        '13:1': '361fdd',
        '13:10': 'a16267',
        '13:11': 'a16267',
        '13:12': 'a16267',
        '13:13': 'a16267',
        '13:14': 'a16267',
        '13:15': 'a16267',
        '13:16': 'a16267',
        '13:17': 'a16267',
        '13:18': 'a16267',
        '13:19': 'a16267',
        '13:2': 'a16267',
        '13:20': '79736e',
        '13:21': 'a16267',
        '13:22': 'a16267',
        '13:23': 'a16267',
        '13:24': '526d90',
        '13:25': 'a16267',
        '13:26': 'a16267',
        '13:27': 'a16267',
        '13:28': 'a16267',
        '13:29': 'a16267',
        '13:3': 'a16267',
        '13:30': '04edb0',
        '13:31': 'a16267',
        '13:32': 'a16267',
        '13:33': 'a16267',
        '13:34': 'cfd525',
        '13:4': '7b4a64',
        '13:5': 'fd451f',
        '13:6': 'a16267',
        '13:7': 'a16267',
        '13:8': 'a16267',
        '13:9': 'a16267',
        '15:0': '3a22f4',
        '15:1': '3a22f4',
        '15:10': '3a22f4',
        '15:11': '3a22f4',
        '15:12': '3a22f4',
        '15:13': '097900',
        '15:14': '3a22f4',
        '15:15': '3a22f4',
        '15:16': '3a22f4',
        '15:17': '3a22f4',
        '15:18': '3a22f4',
        '15:19': '3a22f4',
        '15:2': '3a22f4',
        '15:20': '3a22f4',
        '15:21': '42caf6',
        '15:22': '3a22f4',
        '15:23': '3a22f4',
        '15:24': '3a22f4',
        '15:25': '3a22f4',
        '15:26': '3a22f4',
        '15:27': '3a22f4',
        '15:28': '3a22f4',
        '15:29': '3a22f4',
        '15:3': '3a22f4',
        '15:30': '3a22f4',
        '15:31': '3a22f4',
        '15:32': '3a22f4',
        '15:33': '3a22f4',
        '15:34': '6c3d76',
        '15:4': '3a22f4',
        '15:5': '3a22f4',
        '15:6': '3a22f4',
        '15:7': '3a22f4',
        '15:8': '3a22f4',
        '15:9': '3a22f4',
        '16:0': 'cdd105',
        '16:1': 'cdd105',
        '16:10': 'cdd105',
        '16:11': 'cdd105',
        '16:2': 'cdd105',
        '16:3': 'cdd105',
        '16:4': 'bb1b07',
        '16:5': '6c88c2',
        '16:6': 'a71e88',
        '16:7': 'cdd105',
        '16:8': 'cdd105',
        '16:9': 'cdd105',
        '21:0': 'e143ba',
        '21:1': 'e143ba',
        '21:10': 'e143ba',
        '21:11': 'e143ba',
        '21:12': 'e143ba',
        '21:13': 'e143ba',
        '21:14': 'e143ba',
        '21:15': 'e143ba',
        '21:16': 'e143ba',
        '21:17': 'e143ba',
        '21:18': 'e143ba',
        '21:19': 'e143ba',
        '21:2': 'e143ba',
        '21:20': 'ad6299',
        '21:21': 'e143ba',
        '21:22': 'e143ba',
        '21:23': 'e143ba',
        '21:24': 'e143ba',
        '21:25': 'e143ba',
        '21:26': '3cf525',
        '21:27': 'e143ba',
        '21:28': 'e143ba',
        '21:29': 'e143ba',
        '21:3': 'e143ba',
        '21:30': 'e143ba',
        '21:31': 'e143ba',
        '21:32': 'e143ba',
        '21:33': 'e143ba',
        '21:34': 'e143ba',
        '21:4': 'e143ba',
        '21:5': 'e143ba',
        '21:6': 'e143ba',
        '21:7': 'e143ba',
        '21:8': 'e143ba',
        '21:9': 'e143ba',
        '22:0': '80e30c',
        '22:1': '80e30c',
        '22:10': '80e30c',
        '22:11': '80e30c',
        '22:12': '80e30c',
        '22:13': '80e30c',
        '22:14': '80e30c',
        '22:15': '80e30c',
        '22:16': '80e30c',
        '22:17': '80e30c',
        '22:18': '83432e',
        '22:19': '80e30c',
        '22:2': '4b9e84',
        '22:20': '80e30c',
        '22:21': '80e30c',
        '22:22': '80e30c',
        '22:23': '80e30c',
        '22:24': '80e30c',
        '22:25': '80e30c',
        '22:26': '64f6bc',
        '22:27': '80e30c',
        '22:28': '80e30c',
        '22:29': '80e30c',
        '22:3': '80e30c',
        '22:30': '80e30c',
        '22:31': '80e30c',
        '22:32': '80e30c',
        '22:33': '80e30c',
        '22:34': '80e30c',
        '22:4': '80e30c',
        '22:5': '80e30c',
        '22:6': '80e30c',
        '22:7': '80e30c',
        '22:8': '80e30c',
        '22:9': '80e30c',
        '23:0': 'c51e8e',
        '23:1': 'c51e8e',
        '23:10': '924a17',
        '23:11': 'c51e8e',
        '23:12': 'c51e8e',
        '23:13': 'c51e8e',
        '23:14': 'c51e8e',
        '23:15': '956f1e',
        '23:16': 'c51e8e',
        '23:17': 'a4ee26',
        '23:2': '108f8f',
        '23:3': 'c51e8e',
        '23:4': 'c51e8e',
        '23:5': 'd47a21',
        '23:6': 'c51e8e',
        '23:7': 'c51e8e',
        '23:8': 'c51e8e',
        '23:9': 'c51e8e',
        '33:0': 'c6a5bc',
        '33:1': '69b3ec',
        '33:10': '69b3ec',
        '33:11': '69b3ec',
        '33:13': 'f238ce',
        '33:14': '69b3ec',
        '33:15': '69b3ec',
        '33:16': '6005ac',
        '33:17': '69b3ec',
        '33:18': '69b3ec',
        '33:19': '69b3ec',
        '33:2': '69b3ec',
        '33:20': '69b3ec',
        '33:21': '69b3ec',
        '33:22': '69b3ec',
        '33:23': 'a5d6fc',
        '33:24': '69b3ec',
        '33:25': '69b3ec',
        '33:26': '69b3ec',
        '33:27': '69b3ec',
        '33:28': '69b3ec',
        '33:29': '25fbf1',
        '33:3': '69b3ec',
        '33:30': '69b3ec',
        '33:31': '69b3ec',
        '33:32': '69b3ec',
        '33:33': '69b3ec',
        '33:34': '69b3ec',
        '33:4': '69b3ec',
        '33:5': '55aed0',
        '33:6': '69b3ec',
        '33:7': '69b3ec',
        '33:8': '69b3ec',
        '33:9': '69b3ec',
        '34:0': 'ba8db0',
        '34:1': 'ba8db0',
        '34:10': 'ba8db0',
        '34:11': 'ba8db0',
        '34:12': 'ba8db0',
        '34:13': 'ba8db0',
        '34:14': 'ba8db0',
        '34:15': 'ba8db0',
        '34:16': 'ba8db0',
        '34:17': 'ba8db0',
        '34:18': '6429e8',
        '34:19': 'ba8db0',
        '34:2': 'ba8db0',
        '34:20': 'ba8db0',
        '34:21': 'ba8db0',
        '34:22': 'ba8db0',
        '34:23': 'ba8db0',
        '34:24': 'ba8db0',
        '34:25': 'ba8db0',
        '34:26': 'ba8db0',
        '34:27': 'b0baa5',
        '34:34': 'ba8db0',
        '34:28': 'ba8db0',
        '34:5': 'ba8db0',
        '34:29': 'ba8db0',
        '34:7': 'ba8db0',
        '34:3': 'ba8db0',
        '34:9': 'ba8db0',
        '34:30': 'ba8db0',
        '35:1': 'a36d8c',
        '34:31': 'ba8db0',
        '40:0': '4f1685',
        '34:32': 'ba8db0',
        '40:10': '4f1685',
        '34:33': 'ba8db0',
        '40:12': '4f1685',
        '34:4': 'ba8db0',
        '40:14': '4f1685',
        '34:6': 'ba8db0',
        '40:16': '4f1685',
        '34:8': 'ba8db0',
        '40:18': '4f1685',
        '35:0': 'a36d8c',
        '40:2': 'c825ee',
        '35:2': 'a36d8c',
        '40:21': '4f1685',
        '40:1': '4f1685',
        '40:23': '193422',
        '40:11': '4f1685',
        '40:25': '4f1685',
        '40:13': '4f1685',
        '40:27': '4f1685',
        '40:15': '4f1685',
        '40:29': '4f1685',
        '40:17': '4f1685',
        '40:30': 'c36c57',
        '40:19': '4f1685',
        '40:32': '4f1685',
        '40:20': '4f1685',
        '40:34': '4f1685',
        '40:22': '4f1685',
        '40:36': '4f1685',
        '40:24': '4f1685',
        '40:38': '4f1685',
        '40:26': '4f1685',
        '40:4': '4f1685',
        '40:28': '4f1685',
        '40:41': '13ea9f',
        '40:3': '4f1685',
        '40:43': '4f1685',
        '40:31': '4f1685',
        '40:45': '4f1685',
        '40:33': '6ca136',
        '40:47': '4f1685',
        '40:35': '4f1685',
        '40:49': '4f1685',
        '40:37': '79f54f',
        '40:50': '4f1685',
        '40:39': '4f1685',
        '40:52': '4f1685',
        '40:40': '4f1685',
        '40:54': '4f1685',
        '40:42': '4f1685',
        '40:7': '4f1685',
        '40:44': '4f1685',
        '40:9': '4f1685',
        '40:46': '4f1685',
        '9:1': 'abfcde',
        '40:48': 'c749f0',
        '9:11': '6bd80e',
        '40:5': '4f1685',
        '9:13': 'fa59c3',
        '40:51': '4f1685',
        '9:15': '97f323',
        '40:53': '4cf0d4',
        '9:17': '98000f',
        '40:6': '4f1685',
        '9:19': '9609db',
        '40:8': '4f1685',
        '9:20': 'ccd266',
        '9:0': '81ced0',
        '9:3': '6bd80e',
        '9:10': '6bd80e',
        '9:5': '6bd80e',
        '9:12': '6bd80e',
        '9:7': '6bd80e',
        '9:14': 'e60c7e',
        '9:9': '6bd80e',
        '9:16': '367973',
        '9:18': 'ffd568',
        '9:2': '04261a',
        '9:21': '7aa497',
        '9:4': '6bd80e',
        '9:6': '6bd80e',
        '9:8': '6bd80e',
      },
      grids: {
        21: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/429358847306551738/839B87FAD61C79259B71F7E162385C3090F00810/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        12: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611715972460/DE1BAB63C2982153E12D26B560270B75589F863D/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        40: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/429359427599445381/F99C8443C812D774D7799DCEC5FE2EDABF9E66E9/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        34: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/429358847330075776/3086749A024D0D181342B5E641BD8AAE6D58A45F/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        22: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/429358847306572374/9A65B90295EDD4D38B2B8B85B18C4B8F16B89A12/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        23: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/429358847306596064/2A5CB34CB4BCDD079356AC6A7607C790133E8408/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        13: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611716020811/3890BA43F586AA4DED4041ED172D9EC2475F2D84/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        33: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/429358847330067228/4E01331B0B9645DC563600309F32A6B29AF0CA08/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        15: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611716048593/59582B4E0E4F1D8C3819D8BA1216F5E654BC862B/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        9: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693542667/FC40DF03381360D4824628BAABFB15C9FCAA2EE4/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        35: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/429358847330083340/893CEB10D2AF998E1C03049A56CD7AB66DC3AAF8/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
        16: {
          faceURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611716054364/F6E96F204BCC4BD14792C132CA51A7BD1D2423DC/',
          backURL:
            'http://cloud-3.steamusercontent.com/ugc/469890611693556064/39BC8E10FAA97149A7BF6A8AC1E783A7E022A6C3/',
          cols: 10,
          rows: 7,
        },
      },
    };
    expect(TTSParser.parseDeck(MUNCHKIN_DECK_OBJ as unknown as ObjectState)).toEqual(expected);
  });

  it('should return null for incorrect or malformed deck objects', () => {
    expect(TTSParser.parseDeck({} as unknown as ObjectState)).toBeNull();
  });
});
